<!DOCTYPE html>
<html>
<head>
<title>my page</title>
<style type="text/css">
canvas{
	border:1px solid black
}
</style>
</head>
      <body>
		<canvas id="a" width="800" height="500"></canvas>
        <script type="text/javascript">
var md = false;
var canvas = document.getElementById('a');
canvas.addEventListener('mousedown', down);
canvas.addEventListener('mouseup', toggledraw);
canvas.addEventListener('mousemove',
	function(evt){
		var mousePos = getMousePos(canvas, evt);
var posx = mousePos.x;
var posy = mousePos.y;
draw(canvas, posx, posy);

	});
	
	function down(){
		md = true;
	}
	function toggledraw(){
		md = false;
	}
	function getMousePos(canvas, evt){
		var rect = canvas.getBoundingClientRect();
		return{
			x:evt.clientX - rect.left,
			y:evt.clientY - rect.top
		};
	}
	function draw(canvas, posx, posy){
		var context = canvas.getContext('2d');
		if(md){
			context.fillRect(posx, posy, 4, 4);
		}
	}
    	
        </script>
      </body>
    
</html>
